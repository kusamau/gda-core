<?xml version="1.0" encoding="UTF-8"?>

<included>

	<!-- Standard logging properties and appenders for the GDA log server. -->

	<!-- In general you should just use the default log server configuration found in log_server.xml. If you really
		need to customise your log server configuration you should copy log_server.xml as a template and keep the line
		which includes this file. -->

	<!-- Include the standard set of properties files -->
	<include file="${gda.core.dir}/properties/logging_properties_includes.xml" />

	<appender name="LogFile" class="ch.qos.logback.core.rolling.RollingFileAppender">
		<File>${gda.logs.dir}/gda_server.log</File>
		<rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
			<FileNamePattern>${gda.logs.dir}/gda_server.%d{yyyy-MM-dd}.log.gz</FileNamePattern>
		</rollingPolicy>
		<encoder>
			<pattern>%d %-5level [%property{HOSTNAME}/%property{GDA_SOURCE}/%property{JVMNAME}] %logger - %m%n%rEx</pattern>
		</encoder>
	</appender>

	<appender name="LogPanel" class="ch.qos.logback.classic.net.server.ServerSocketAppender">
		<port>${gda.logserver.out.port}</port>
		<!-- Filter out DEBUG and TRACE messages to avoid overloading the log panel. If the log panel's performance is
			improved so it can handle a higher volume of messages this filter can be removed. -->
		<filter class="ch.qos.logback.classic.filter.ThresholdFilter">
			<level>INFO</level>
		</filter>
	</appender>

</included>
